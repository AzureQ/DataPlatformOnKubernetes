version: '1.0'

steps:

  build_kaggle_cli_image:
    type: build
    title: Docker Image - Kaggle Client
    description: Building kaggle client Image
    image-name: azureq/kaggle-client
    dockerfile: docker-images/kaggle-cli/Dockerfile

  push_kaggle_cli_to_registry:
    type: push
    title: Pushing Kaggle Client Docker Image to DockerHub
    description: Pushing kaggle client Image to DockerHub
    candidate: '${{build_kaggle_cli_image}}'
    tag: '${{CF_BRANCH}}'

    #uncomment the registry and add your own registry if you want to use any registry other than dockerhub. See docs.codefresh.io for more information
    #registry:
    credentials:
      #make sure that you have a dockerUsername and dockerPassword define on the pipeline.
      username: '${{dockerUsername}}'
      password: '${{dockerPassword}}'